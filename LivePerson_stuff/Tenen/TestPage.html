<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!-- BEGIN LivePerson Monitor. -->
   <script type="text/javascript">window.lpTag=window.lpTag||{},"undefined"==typeof window.lpTag._tagCount?(window.lpTag={site:'2102246'||"",section:lpTag.section||"",tagletSection:lpTag.tagletSection||null,autoStart:lpTag.autoStart!==!1,ovr:lpTag.ovr||{},_v:"1.8.0",_tagCount:1,protocol:"https:",events:{bind:function(t,e,i){lpTag.defer(function(){lpTag.events.bind(t,e,i)},0)},trigger:function(t,e,i){lpTag.defer(function(){lpTag.events.trigger(t,e,i)},1)}},defer:function(t,e){0==e?(this._defB=this._defB||[],this._defB.push(t)):1==e?(this._defT=this._defT||[],this._defT.push(t)):(this._defL=this._defL||[],this._defL.push(t))},load:function(t,e,i){var n=this;setTimeout(function(){n._load(t,e,i)},0)},_load:function(t,e,i){var n=t;t||(n=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);var a=document.createElement("script");a.setAttribute("charset",e?e:"UTF-8"),i&&a.setAttribute("id",i),a.setAttribute("src",n),document.getElementsByTagName("head").item(0).appendChild(a)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var t=this;window.attachEvent?window.attachEvent("onload",function(){t._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){t._domReady("contReady")},!1),window.addEventListener("load",function(){t._domReady("domReady")},!1)),"undefined"==typeof window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(t){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:t})),this._timing[t]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],hooks:lpTag.hooks||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1;</script>
   <!-- END LivePerson Monitor. -->
</head>
<link rel='stylesheet' type='text/css' href='./style.css'>
<script type="text/javascript" src='./javascript.js'></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<body>


   <br>
   <br>
   <p1>Please change the URL below to the one you'd like to see the questions for</p1>
   <br>
   <textarea style='width:1000px' id='urlInput' placeHolder='Enter URL (optional)'></textarea><br>
   <button onclick='assignUrl()'>Assign URL</button><br><br>
   <p1>The current URL is set to:</p1><br>
   <p1 id='urlString'></p1>
   <br><br>
  
   
   <br><br>
   <!-- <button onclick='saveSectionToStorage()'>Set newPage with the values above</button> -->

   <br><br>
   <p1>Current page title for this URL is</p1>
   <div class='ProductTitle'>
      <h1 style='font-weight:bold;font-size:large' id='currentPageTitle'></h1>
   </div>
   
   
</body>

<script type="text/javascript">
   let URL = 'https://www.mynamenecklace.com/Product.aspx?p=6378';
   let sections = ['tenen-sales'];


   function showCurrentPage() {
      var urlToPageTitleMappings = {
         'https://www.mynamenecklace.com/ShoppingCart.aspx?': 'Shopping Cart',
         'https://www.mynamenecklace.com/Product.aspx?p=6378': 'Men bracelet with small custom beads in silver',
         'https://www.mynamenecklace.com/Product.aspx?p=5961': 'Men bracelet with small custom beads in silver',
         'https://www.mynamenecklace.com/Product.aspx?p=5630': 'Bangle Bracelet with Heart Shape Pendants in Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=5633': 'Bangle Bracelet with Heart Shape Pendants in Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=2088': 'Personalized Classic Name Necklace in 18k Gold Plating',
         'https://www.mynamenecklace.com/Product.aspx?p=2074': 'Small Classic Name Necklace in 18k Gold Plated Sterling Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=1079': 'Small Classic Name Necklace in 18k Gold Plated Sterling Silver ',
         'https://www.mynamenecklace.com/Product.aspx?p=5240': 'Engraved 3D Bar Necklace in Sterling Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=5241': 'Engraved 3D Bar Necklace in Sterling Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=5242': 'Engraved 3D Bar Necklace in Sterling Silver',
         'https://www.mynamenecklace.com/Product.aspx?p=4542': 'Russian ring',
         'https://www.mynamenecklace.com/NEED_ENDPOINT_HERE':'Personalized 14k Gold Carrie Name Necklace'
      }
      var currentPage = urlToPageTitleMappings[window.lpTag.url];
      document.getElementById('currentPageTitle').innerHTML = currentPage;
   }

   function assignUrl() {
      const text = document.getElementById('urlInput').value.trim();
      if(!text){
         return;
      }
      URL = text;
      document.getElementById('urlInput').value = URL;
      document.getElementById('urlString').innerHTML = JSON.stringify(URL);
      setNewPageSettings(URL, sections, null);
      showCurrentPage();
   }

   function setNewPageSettings(url, sections, sdes) {
      lpTag.newPage(url || location.href, {
         section : sections || '',
         sdes: sdes || []
      });
   }

   window.onload = () => {
      document.getElementById('urlString').innerHTML = JSON.stringify(URL);
      document.getElementById('urlInput').value = URL;
      setNewPageSettings(URL, sections, null);
      showCurrentPage();
   }    

</script>

<script>
      lpTag.section = ['tenen-sales'];
      
      var prodName = $('.ProductTitle').find('h1').text() || 'this product';
      lpTag.events.bind('lpUnifiedWindow', 'state', (data) => { 
         console.log(data);
         if(data && data.state === 'waiting'){
            //set time out to wait for the window to load...
            setTimeout(()=>{    
               $('.lpview_form_textarea').val("I'm interested in " + prodName);
               $('.lp_send_button').prop('disabled', false).trigger('click'); 
            }, 500);
            console.log('Should trigger show init menu here')
            
         }
      });
      
      </script>

</html>